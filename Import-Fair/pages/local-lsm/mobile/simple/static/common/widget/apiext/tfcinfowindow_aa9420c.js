define("common:widget/apiext/tfcinfowindow.js",function(t,i,e){function n(){}var s=(t("common:static/js/mapconst.js"),t("common:widget/util/map-util.js")),o=t("common:widget/apiext/infowindowoverlay.js");n.prototype=new o,$.extend(n.prototype,{index:0,offsetX:0,offsetY:26,create:function(){return $(this.container).append($("<li />",{"class":"iw-c",css:{width:"254px"},"data-iw-id":"iw-c"}))},switchTo:function(t){this.index=t||0,this.point=this._getPoint(),this.content=this._getContent(),this.show()},_getPoiData:function(){var t=(this.index,this.getData(this.type,this.index));return t?t:void 0},_getPoint:function(){var t=this._getPoiData();if(t)return s.geoToPoint(t.geo)},_getContent:function(){var t=this._getPoiData();if(t){var i,e;if(t.starttime){var n=new Date;n.setTime(1e3*parseInt(t.starttime)),i="开始时间："+n.format("yyyy-MM-dd hh:mm")}if(t.endtime){var s=new Date;s.setTime(1e3*parseInt(t.endtime)),e="预计结束时间："+s.format("yyyy-MM-dd hh:mm")}var o="详情："+t.des,a=$("<div />",{html:"<div class='iw-c-title'>{0}</div><div class='iw-c-list'><p>{1}</p><p>{2}</p><p>{3}</p></div>".format(t.title,i,e,o),"class":"iw-c-c iw_c_"+this.type});return a}}}),e.exports={_className_:"TfcInfoWindow",_instances:{},_constructor:n,init:function(t){var i;return this._instances[t]||(i=this._instances[t]=new this._constructor),i}}});